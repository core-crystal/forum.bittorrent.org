<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Anyone know how to get newest BEPS 29? (Page 1) / General / forum.bittorrent-archive.mythra.dev</title>
<link rel="stylesheet" type="text/css" href="style/Air.css" />
<link rel="stylesheet" type="text/css" href="captcha/css/style.css" />
<link rel="stylesheet" type="text/css" href="captcha/css/redmond/jquery-ui-1.8.21.custom.css" />
<script type="text/javascript" src="captcha/js/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="captcha/js/jquery-ui-1.8.21.custom.min.js"></script>
<script type="text/javascript" src="captcha/js/jquery.ui.touch-punch.min.js"></script>
<script type="text/javascript">
	$(function(){var f=$("#sliderCaptcha");var b=$("#cleCaptcha");var d=$(".boutonsCaptcha");var a=$("#javascriptCaptcha");var e=[10,37,32,4,33,13,19,24,41,45,16,25,29,32,27,44,45,15,8,48,8,41,6,38,22,24,37,0,43,33,14,4,20,46,8,3,9,28,27,0,24,44,26,4,26,4,49,22,20,7];var h=0;var g=5;var c=0;a.hide();f.slider({value:0,min:0,max:g,step:1,slide:function(i,j){if(j.value>c){c=j.value;h+=c}},stop:function(j,k){var i=false;if(k.value==g){if(h==((g+Math.pow(g,2))/2)){i=true;f.slider("option","disabled",true);if(b.val().length!=e.length){$.post("captcha.php",{tokenCaptcha:b.val()},function(m){var l="";$.each(e,function(){l+=m.charAt(this%m.length)});b.val(l);d.removeAttr("disabled")})}}}if(!i){h=c=0;f.slider("option","value",h)}}})});
</script>
<!--[if lte IE 6]><script type="text/javascript" src="style/imports/minmax.js"></script><![endif]-->
</head>

<body>

<div id="punviewtopic" class="pun">
<div class="top-box"><div><!-- Top Corners --></div></div>
<div class="punwrap">

<div id="brdheader" class="block">
	<div class="box">
		<div id="brdtitle" class="inbox">
			<h1><a href="index.php">forum.bittorrent-archive.mythra.dev</a></h1>
			<div id="brddesc">BitTorrent.org community</div>
		</div>
		<div id="brdmenu" class="inbox">
			<ul>
				<li id="navindex" class="isactive"><a href="index.php">Index</a></li>
				<li id="navextra1"><a href="http://bittorrent.org">Homepage</a></li>
				<li id="navextra2"><a href="https://groups.google.com/a/bittorrent.com/forum/#!forum/bt-developers">Mailing List</a></li>
				<li id="navextra3"><a href="irc://irc.freenode.net/bittorrent">IRC</a></li>
				<li id="navuserlist"><a href="userlist.php">User list</a></li>
				<li id="navrules"><a href="misc.php?action=rules">Rules</a></li>
				<li id="navsearch"><a href="search.php">Search</a></li>
				<li id="navregister"><a href="register.php">Register</a></li>
				<li id="navlogin"><a href="login.php">Login</a></li>
			</ul>
		</div>
		<div id="brdwelcome" class="inbox">
			<p class="conl">You are not logged in.</p>
			<ul class="conr">
				<li><span>Topics: <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li>
			</ul>
			<div class="clearer"></div>
		</div>
	</div>
</div>

<div id="announce" class="block">
	<div class="hd"><h2><span>Announcement</span></h2></div>
	<div class="box">
		<div id="announce-block" class="inbox">
			<div class="usercontent">Forums are closed.
Use the new mailing list!
https://groups.google.com/a/bittorrent.com/forum/#!forum/bt-developers</div>
		</div>
	</div>
</div>

<div id="brdmain">
<div class="linkst">
	<div class="inbox crumbsplus">
		<ul class="crumbs">
			<li><a href="index.php">Index</a></li>
			<li><span>»&#160;</span><a href="viewforum.php?id=27">General</a></li>
			<li><span>»&#160;</span><a href="viewtopic.php?id=542"><strong>Anyone know how to get newest BEPS 29?</strong></a></li>
		</ul>
		<div class="pagepost">
			<p class="pagelink conl"><span class="pages-label">Pages: </span><strong class="item1">1</strong></p>
		</div>
		<div class="clearer"></div>
	</div>
</div>

<div id="p2320" class="blockpost rowodd firstpost blockpost1">
	<h2><span><span class="conr">#1</span> <a href="viewtopic.php?pid=2320#p2320">2012-08-13 04:25:27</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong><a href="profile.php?id=95168">klee109</a></strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Anyone know how to get newest BEPS 29?</h3>
					<div class="postmsg">
						<p>Hi, I&#039;m studying BEPS 29 micro Transport protocol.</p><p>I have captured actual uTorrent traffic and when I compare it with the packet format in the following webpage, it is differ. </p><p><a href="http://bittorrent.org/beps/bep_0029.html">http://bittorrent.org/beps/bep_0029.html</a> </p><p>It seems like the standard that is posted on the web is outdated.<br />Does anyone know how to get a newest standard document?</p><p>Thanks,</p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p2322" class="blockpost roweven">
	<h2><span><span class="conr">#2</span> <a href="viewtopic.php?pid=2322#p2322">2012-08-13 09:24:48</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong><a href="profile.php?id=95152">cbrown</a></strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: Anyone know how to get newest BEPS 29?</h3>
					<div class="postmsg">
						<p>Have you looked at the git repo?&#160; It may be a bit more up-to-date, but I don&#039;t think the packet format&#039;s changed.</p><p><a href="https://github.com/bittorrent/libutp/">https://github.com/bittorrent/libutp/</a></p><div class="codebox"><pre><code>struct PACKED_ATTRIBUTE PacketFormatV1 {
    // packet_type (4 high bits)
    // protocol version (4 low bits)
    byte ver_type;
    byte version() const { return ver_type &amp; 0xf; }
    byte type() const { return ver_type &gt;&gt; 4; }
    void set_version(byte v) { ver_type = (ver_type &amp; 0xf0) | (v &amp; 0xf); }
    void set_type(byte t) { ver_type = (ver_type &amp; 0xf) | (t &lt;&lt; 4); }
    
    // Type of the first extension header
    byte ext;
    // connection ID
    uint16_big connid;
    uint32_big tv_usec;
    uint32_big reply_micro;
    // receive window size in bytes
    uint32_big windowsize;
    // Sequence number
    uint16_big seq_nr;
    // Acknowledgment number
    uint16_big ack_nr;
};</code></pre></div><p>If you post a hex dump of a packet that seems to differ from the standards, I can take a look and possibly clear up some things.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p2328" class="blockpost rowodd">
	<h2><span><span class="conr">#3</span> <a href="viewtopic.php?pid=2328#p2328">2012-08-13 15:46:46</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong><a href="profile.php?id=95168">klee109</a></strong></dt>
						<dd class="usertitle"><strong>Member</strong></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: Anyone know how to get newest BEPS 29?</h3>
					<div class="postmsg">
						<p>Thank you Brown,</p><p>Please take a look at following link.</p><br /><p><a href="http://blog.naver.com/klee109/memo/164085316">http://blog.naver.com/klee109/memo/164085316</a></p><p>I&#039;ve posted screenshot of the capture file. </p><p>The newest version of wireshark indicates that the packet is uTP packet but the Connection ID shows up first.<br />(I was expecting to see &quot;Version&quot; instead of connection ID)</p><p>Please enlight me.</p><p>Thanks,</p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div id="p2330" class="blockpost roweven">
	<h2><span><span class="conr">#4</span> <a href="viewtopic.php?pid=2330#p2330">2012-08-13 16:28:21</a></span></h2>
	<div class="box">
		<div class="inbox">
			<div class="postbody">
				<div class="postleft">
					<dl>
						<dt><strong><a href="profile.php?id=89602">arvid</a></strong></dt>
						<dd class="usertitle"><strong>Administrator</strong></dd>
					</dl>
				</div>
				<div class="postright">
					<h3>Re: Anyone know how to get newest BEPS 29?</h3>
					<div class="postmsg">
						<p>When uTP was first released, years ago, the packet header looked different. In the first few releases of uTorrent the connection ID was the first 16 bits (iirc). No uTorrent client in the last few years has used this old protocol though, and the old protocol was never published. So, trust the protocol cbrown posted, and not the wireshark dissector. (it would be really nice with a wireshark dissector for uTP though).</p><p>However, the bigger problem here is that wireshark incorrectly classifies that packet as uTP. If you look in the hexdump of the packet you can see that you&#039;re looking at a DHT packet. It&#039;s bencoded and has the DHT fields.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="inbox">
			<div class="postfoot clearb">
				<div class="postfootleft"><p><span>Offline</span></p></div>
			</div>
		</div>
	</div>
</div>

<div class="postlinksb">
	<div class="inbox crumbsplus">
		<div class="pagepost">
			<p class="pagelink conl"><span class="pages-label">Pages: </span><strong class="item1">1</strong></p>
		</div>
		<ul class="crumbs">
			<li><a href="index.php">Index</a></li>
			<li><span>»&#160;</span><a href="viewforum.php?id=27">General</a></li>
			<li><span>»&#160;</span><a href="viewtopic.php?id=542"><strong>Anyone know how to get newest BEPS 29?</strong></a></li>
		</ul>
		<div class="clearer"></div>
	</div>
</div>
</div>

<div id="brdfooter" class="block">
	<h2><span>Board footer</span></h2>
	<div class="box">
		<div id="brdfooternav" class="inbox">
			<div class="conl">
			</div>
			<div class="conr">
				<p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p>
			</div>
			<div class="clearer"></div>
		</div>
	</div>
</div>

</div>
<div class="end-box"><div><!-- Bottom corners --></div></div>
</div>

</body>
</html>
